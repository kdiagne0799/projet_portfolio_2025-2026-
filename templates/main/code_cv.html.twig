{% extends 'base.html.twig' %}

{% block title %}AccÃ¨s au CV{% endblock %}

{% block body %}
<div class="container mt-5">
  <h2>ğŸ” AccÃ¨s protÃ©gÃ© au CV</h2>
  <p>Veuillez entrer le code dâ€™accÃ¨s pour consulter le CV :</p>

  {% if erreur is defined and erreur %}
    <div class="alert alert-danger">Code incorrect. Veuillez rÃ©essayer.</div>
  {% endif %}

  <form method="get" action="{{ path('voir_cv') }}">
    <div class="form-group position-relative">
      <input type="password" name="code" id="codeInput" class="form-control" placeholder="Code dâ€™accÃ¨s" required>
      <button type="button" class="btn btn-sm btn-secondary position-absolute top-0 end-0 mt-1 me-1" onclick="togglePassword()">ğŸ‘ï¸</button>
    </div>
    <button type="submit" class="btn btn-success mt-3">Valider</button>
  </form>
</div>

<script>
function togglePassword() {
  const input = document.getElementById('codeInput');
  input.type = input.type === 'password' ? 'text' : 'password';
}
</script>
{% endblock %}